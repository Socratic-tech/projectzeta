<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Daily Habit Entry – Project Zeta</title>

<style>
  body {
    font-family: Arial, sans-serif;
    padding: 20px;
    max-width: 900px;
    margin: auto;
    background: #f7f7fc;
  }

  h1 {
    text-align: center;
    margin-bottom: 20px;
  }

  .block {
    background: #ffffff;
    padding: 20px;
    margin-bottom: 20px;
    border-radius: 12px;
    border: 1px solid #dedede;
  }

  label {
    display: block;
    margin-bottom: 6px;
    font-weight: bold;
  }

  select, input[type="text"], textarea {
    width: 100%;
    padding: 10px;
    font-size: 1.05em;
    border-radius: 8px;
    border: 1px solid #ccc;
    margin-bottom: 12px;
  }

  textarea {
    height: 80px;
  }

  .habit-group {
    margin-bottom: 20px;
  }

  .habit-group label {
    font-weight: normal;
  }

  .save-btn {
    width: 100%;
    padding: 15px;
    background: #6b6bff;
    color: white;
    font-size: 1.2em;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    margin-top: 20px;
  }

  .save-btn:hover {
    background: #5757e6;
  }

  .success {
    margin-top: 20px;
    padding: 12px;
    background: #e6ffe6;
    border-left: 4px solid #22aa22;
    display: none;
  }

</style>
</head>

<body>

<h1>Daily Habit Entry</h1>

<!-- STUDENT SELECT -->
<div class="block">
  <label>Select Student</label>
  <select id="studentSelect">
    <option>Loading students…</option>
  </select>
</div>

<!-- EVALUATOR INPUT -->
<div class="block">
  <label>Evaluator Name</label>
  <input type="text" id="evaluatorInput" placeholder="Enter your name (e.g., Mr. Smith)">
</div>

<!-- HABIT INPUTS -->
<div class="block">
  <h3>Habit Scoring</h3>

  <div class="habit-group">
    <label>Attention</label>
    <select id="attention">
      <option value="">Select</option>
      <option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
    </select>
  </div>

  <div class="habit-group">
    <label>Cooperation</label>
    <select id="cooperation">
      <option value="">Select</option>
      <option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
    </select>
  </div>

  <div class="habit-group">
    <label>Pace</label>
    <select id="pace">
      <option value="">Select</option>
      <option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
    </select>
  </div>
</div>

<!-- COMMENTS -->
<div class="block">
  <label>Comment (optional)</label>
  <textarea id="commentInput" placeholder="Add any notes or observations..."></textarea>
</div>

<!-- SAVE BUTTON -->
<button class="save-btn" onclick="saveEntry()">Save Daily Entry</button>

<div class="success" id="successBox">
  Entry saved successfully!
</div>

<script>
/* ====================================================
   MOCK: Replace with real student fetch logic
   ==================================================== */
async function getStudents() {
  return [
    { id: "s1", name: "Alice Johnson" },
    { id: "s2", name: "Brandon Lee" },
    { id: "s3", name: "Charlotte Rivera" }
  ];
}

/* ====================================================
   Load student list into dropdown
   ==================================================== */
async function loadStudents() {
  const studentSelect = document.getElementById("studentSelect");
  studentSelect.innerHTML = "";

  const students = await getStudents();
  students.forEach(s => {
    const opt = document.createElement("option");
    opt.value = s.id;
    opt.textContent = s.name;
    studentSelect.appendChild(opt);
  });
}

loadStudents();

/* ====================================================
   Save Entry (Mock)
   Replace this with your real saving logic
   ==================================================== */
function saveEntry() {
  const studentId = document.getElementById("studentSelect").value;
  const evaluator = document.getElementById("evaluatorInput").value.trim();

  const entry = {
    date: new Date().toISOString().split("T")[0],
    values: {
      attention: Number(document.getElementById("attention").value),
      cooperation: Number(document.getElementById("cooperation").value),
      pace: Number(document.getElementById("pace").value),
      comment: document.getElementById("commentInput").value.trim(),
      evaluator: evaluator || "Unknown"
    }
  };

  console.log("Saved entry:", entry);

  // Replace with actual save call:
  // await fetch("/api/saveEntry", { method: "POST", body: JSON.stringify(entry) });

  // Show success message
  const successBox = document.getElementById("successBox");
  successBox.style.display = "block";
  setTimeout(() => successBox.style.display = "none", 2000);
}

</script>

</body>
</html>
